{
  "name": "爷爷不泡茶",
  "author": "Xhy333",
  "version": "1.1",
  "updateTime": "2024-05-20",
  "subscriptions": [{
    "id": "yybpc_config",
    "name": "爷爷不泡茶配置",
    "author": "Xhy333",
    "version": "1.0",
    "updateTime": "2024-05-20",
    "apps": [{
      "id": "yybpc",
      "name": "爷爷不泡茶",
      "desc": "需要配置qm-user-token",
      "icon": "https://raw.githubusercontent.com/Xhy333/QuantumultX/main/icon/Yybpc.png",
      "variables": [{
        "id": "yybpc",
        "name": "账号配置",
        "type": "array",
        "desc": "点击添加账号→输入抓包获取的qm-user-token",
        "items": {
          "type": "object",
          "properties": [{
              "id": "token",
              "name": "用户Token",
              "type": "password",
              "desc": "抓包获取qm-user-token值"
            },
            {
              "id": "remark",
              "name": "账号备注",
              "type": "string",
              "desc": "自定义账号名称(可选)"
            }
          ]
        }
      }],
      "scripts": [{
        "title": "配置预处理",
        "desc": "将数组格式转换为环境变量",
        "run": "preRequest",
        "code": "function preRequest(options) {\n  if (options.boxdat.yybpc) {\n    options.variables.yybpc = options.boxdat.yybpc\n      .map(account => account.token?.trim())\n      .filter(Boolean)\n      .join('@');\n  }\n  return options;\n}"
      }]
    }]
  }],
  "notice": {
    "usage": [
      "1. 需要配合QuantumultX脚本使用",
      "2. 添加账号前请先抓包获取qm-user-token",
      "3. 多账号会自动用@分隔",
      "4. 定时任务建议设置为早8点后执行"
    ],
    "changelog": [
      "2024-05-20 v1.0 初始版本"
    ]
  }
}
